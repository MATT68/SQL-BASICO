-- USE DB_EMPL;

drop table t_offices;

CREATE TABLE T_OFFICES (
  OFFC_ID	 		INT		NOT NULL,
  OFFC_COUNTRY 		VARCHAR(30) 	NOT NULL,
  OFFC_CITY 		VARCHAR(50) 	NOT NULL,
  OFFC_DESCRIPTION 	VARCHAR(100)    
);

INSERT INTO `T_OFFICES`
(
  OFFC_ID,
  OFFC_COUNTRY,
  OFFC_CITY,
  OFFC_DESCRIPTION
)
VALUES
(
  10,
  'España',
  'Madrid',
  'Oficina central'
);
INSERT INTO `T_OFFICES`
(
  OFFC_ID, OFFC_COUNTRY, OFFC_CITY, OFFC_DESCRIPTION
)
VALUES
(
  20, 'Chile', 'Santiago', 'Principal de Chile'
),
(
  30, 'Argentina', 'Buenos Aires', NULL
);
INSERT INTO T_OFFICES
(
  OFFC_ID, OFFC_COUNTRY, OFFC_CITY
)
VALUES
(
  11, 'España', 'Barcelona'
),
(
  12, 'España', 'Valladolid'
);

/* SELECT LOWER(offc_country), INITCAP(OFFC_CITY)
  FROM T_OFFICES
  WHERE OFFC_CITY = 'BARCELONA';
; */

SELECT * FROM t_offices;
ALTER TABLE T_OFFICES 
 CHANGE COLUMN OFFC_ID
  OFFC_ID INT NOT NULL PRIMARY KEY AUTO_INCREMENT ;

ALTER TABLE T_OFFICES 
   AUTO_INCREMENT  40;

INSERT INTO `T_OFFICES`
(
  OFFC_COUNTRY, OFFC_CITY, OFFC_DESCRIPTION
)
VALUES
(
   'PORTUGAL', 'OPORTO', 'Norte de Portugal'
),
(
   'ANDORRA', 'ANDORRA LA VELLA', NULL
);

UPDATE T_OFFICES 
 SET OFFC_COUNTRY = 'GAMBIA'
WHERE OFFC_COUNTRY = 'ESPAÑA';

ROLLBACK;
COMMIT;
